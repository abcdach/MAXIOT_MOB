
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MAXIOT</title>
	<link rel="shortcut icon" href="favicon.ico">
	<link rel="stylesheet" href="css/themes/default/jquery.mobile-1.4.5.min.css">
	<script src="js/jquery.js"></script>
	<script src="js/jquery.mobile-1.4.5.min.js"></script>
	<script src="js/GUI_ELEMENTS.js"></script>
	<script src="js/GUI_SCRIPT.js"></script>
	<link type="text/css" href="css/main.css" rel="stylesheet" /> 
	
	
	<script src="js/justgage/raphael-2.1.4.min.js"></script>
    <script src="js/justgage/justgage.js"></script>
	<style>
      #g1 {
        width:100px; height:80px;
        display: inline-block;
        margin: 1em;
      }
    </style>	
	
	
	
	
	<!--
<script src="js/dygraph-combined.js"></script>
  -->
	<script src="js/paho-mqtt-min.js"></script>
	<script src="js/mqtt.js"></script>
	
<script>
$( document ).on( "mobileinit", function() { 

console.log("mobileinit:1");
console.log("mobileinit:0");
});


var object1 = $( document ).on( "pagecreate", function() {



console.log("pagecreate");

/**
	//#--------------------------------------------
		//if (java && java.net)
		//ip = ''+java.net.InetAddress.getLocalHost().getHostAddress();
		//else ip = 'unknown';
	
	//#--------------------------------------------
		//MyHeader_wText("MAXIOT");
	//#--------------------------------------------
		$("#theme_Day").click(function (e) {
			e.stopImmediatePropagation();
			e.preventDefault();			    
			theme_Selector("a");
		});	
	//#--------------------------------------------	
		$("#theme_Night").click(function (e) {
			e.stopImmediatePropagation();
			e.preventDefault();	
			theme_Selector("b");   
		});			
	//#--------------------------------------------
		$("#server_connect").click(function (e) {
			e.stopImmediatePropagation();
			e.preventDefault();
			window.open ('index.php','_self',false); 
		});	
	//#--------------------------------------------
		$("#server_Disconnect").click(function (e) {
			//e.stopImmediatePropagation();
			//e.preventDefault();
		});	
	//#--------------------------------------------	

		
		
		
	//#--------------------------------------------	
		$("#b2").click(function (e) {
			e.stopImmediatePropagation();
			e.preventDefault();	
			theme_Selector("b");   
		});		

		$("#b3").click(function (e) {
			e.stopImmediatePropagation();
			e.preventDefault();	
			theme_Selector("a");   
		});		
		
			
	//#--------------------------------------------


	**/
});



//#####################################################################
// 111
//
//
//#####################################################################
var Conf = [''];
$(document).on('pagebeforecreate',"#page_1", function(){
	console.log("pagebeforecreate page_1 start");
	

var isCODE = ggg.replace(/(\r\n|\n|\r)/gm, "");
	isCODE = ggg.replace(/(")/gm, "'");
	isCODE = isCODE.split('..')
	
	
	
console.log(isCODE);	
	
	
Conf = isCODE;
	
	
	
	
	
	
	//console.log(Conf.length);
	
	
	
	var Conf_Len = Conf.length
	
	var isHTML =''
	var isJAVA =''
	
	var grid_start = 0;
	var grid_num   = 0;
	var grid_cou   = 0;
	var grid_add   = 0;

	
	var collapsible_status = 0;
	
	var isDataRole = 'content_1'
	
	var i,b; 
	var select = ""; var select_id = ""
	var p=['','','','','','','','','','','','','','','','','','',''];
	
	
	for (i = 0; i < Conf_Len; i++) {
		var Conf_Spl = Conf[i].split(',');
		var Conf_Spl_Len = Conf_Spl.length;
		
		//console.log("Conf_Spl -> " + Conf_Spl);
		//console.log("[0] : " + Conf_Spl[0]);
		//console.log("[0] : " + Conf_Spl[1]);
		//console.log("[0] : " + Conf_Spl[2]);
		//console.log("[0] : " + Conf_Spl[3]);
		
		
		var isID  = "E"+i;
		var isCMD = Conf_Spl[0].trim();
		var isTemp2 = isCMD.split('(');
		if(isTemp2.length > 1){
			isCMD = isTemp2[0].trim();
			var isTemp4 = isTemp2[1].split(')');
			isID = isTemp4[0].trim();
		}
		
		console.log("CMD : "+isCMD+"("+isID+")");



		if(grid_start===1){		
			if(grid_cou === 1){isHTML += '<div class="ui-block-a">'; grid_add = 1;}
			if(grid_cou === 2){isHTML += '<div class="ui-block-b">'; grid_add = 1;}
			if(grid_cou === 3){isHTML += '<div class="ui-block-c">'; grid_add = 1;}
			if(grid_cou === 4){isHTML += '<div class="ui-block-d">'; grid_add = 1;}
			if(grid_cou === 5){isHTML += '<div class="ui-block-e">'; grid_add = 1;}
		}

		switch(isCMD) {
		
		
			case "##":
			
				if(Conf_Spl_Len >= 2)p[1]=Conf_Spl[1].trim(); else p[1]="2";	
				if(p[1]==="2"){isHTML += '<fieldset class="ui-grid-a">';grid_num=2; grid_start=1;}
				if(p[1]==="3"){isHTML += '<fieldset class="ui-grid-b">';grid_num=3; grid_start=1;}
				if(p[1]==="4"){isHTML += '<fieldset class="ui-grid-c">';grid_num=4; grid_start=1;}
				if(p[1]==="5"){isHTML += '<fieldset class="ui-grid-d">';grid_num=5; grid_start=1;}
				grid_cou   = 1;
				grid_add   = 0;
				grid_ignor = 0;				
				break;				

		
			case ">>":
				if(Conf_Spl_Len >= 2)p[1]=Conf_Spl[1].trim(); else p[1]="collapsible";	//on
				isHTML += '<div data-role="collapsible" class="ui-nodisc-icon ui-alt-icon">';
				isHTML += '<h4>'+p[1]+'</h4>';
				collapsible_status = 1;
				break;				
			case "<<":
				isHTML += '</div>';
				collapsible_status = 0;
				break;	


			case "header":
			
				if(Conf_Spl_Len >= 2)p[1]=Conf_Spl[1].trim(); else p[1]="default";	
				isHTML += HTNL_Header(p[1]);				
				break;
			
			case "button":

				if(Conf_Spl_Len >= 2)p[1]=Conf_Spl[1].trim(); else p[1]="button";
				if(Conf_Spl_Len >= 3)p[2]=Conf_Spl[2].trim(); else p[2]="Out_0('OK');";	//SCRIPT	

				var Lim = 3;
				if(Conf_Spl_Len > Lim){
					for (b = Lim; b < Conf_Spl_Len; b++){
						p[Lim-1]+=','+Conf_Spl[b];
					}
				}
				
				isHTML += HTML_Button(isID,p[1]);				
				isJAVA += JAVA_Button_Click(isID,p[2]);
				break;
			
			case "slider":
			
				if(Conf_Spl_Len >= 2)p[1]=Conf_Spl[1].trim(); else p[1]="0";	//min
				if(Conf_Spl_Len >= 3)p[2]=Conf_Spl[2].trim(); else p[2]="100";	//max		
				if(Conf_Spl_Len >= 4)p[3]=Conf_Spl[3].trim(); else p[3]="1";	//step
				if(Conf_Spl_Len >= 5)p[4]=Conf_Spl[4].trim(); else p[4]="Out_0('OK');";	//OutPut
				
				var Lim = 5;
				if(Conf_Spl_Len > Lim){
					for (b = Lim; b < Conf_Spl_Len; b++){
						p[Lim-1]+=','+Conf_Spl[b];
					}
				}
				
				isHTML += HTML_Slider(isID,p[1],p[2],p[3]);	
				isJAVA += JAVA_Slider_Stop(isID,p[4]);
				break;
			
			
			case "flip":

				if(Conf_Spl_Len >= 2)p[1]=Conf_Spl[1].trim(); else p[1]="on(1)";
				if(Conf_Spl_Len >= 3)p[2]=Conf_Spl[2].trim(); else p[2]="off(0)";
				if(Conf_Spl_Len >= 4)p[3]=Conf_Spl[3].trim(); else p[3]="Out_0(Value);";


				var pTT=p[1].split('(');
				if(pTT.length === 2){
					var pT0 = pTT[0].trim();
					var pT1 = pTT[1].replace(/(\))/gm, "").trim();
				}
				var pTT=p[2].split('(');
				if(pTT.length === 2){
					var pT2 = pTT[0].trim();
					var pT3 = pTT[1].replace(/(\))/gm, "").trim();
				}				
				isHTML += isGUI_flip(isID,pT0,pT1,pT2,pT3);
				
				var Lim = 4;
				if(Conf_Spl_Len > Lim){
					for (b = Lim; b < Conf_Spl_Len; b++){
						p[Lim-1]+=','+Conf_Spl[b];
					}
				}
				isJAVA += JAVA_flip_Change(isID,p[3]);			
				break;
			
			case "input_text":
				if(Conf_Spl_Len >= 2)p[1]=Conf_Spl[1].trim(); else p[1]="";
				isHTML += HTML_Input_Text(isID,p[1]);
				break;
						
			case "input_password":
				if(Conf_Spl_Len >= 2)p[1]=Conf_Spl[1].trim(); else p[1]="";			
				isHTML += HTML_Input_Password(isID,p[1]);
				break;			
			
			
			case "select":
			
				isHTML += '<select name="'+isID+'" id="'+isID+'" data-native-menu="false">';
				
				if(Conf_Spl_Len >= 2)p[1]=Conf_Spl[1].trim();
				if(Conf_Spl_Len >= 3)p[2]=Conf_Spl[2].trim();
				
				//List
				var pT = p[1].split('--');
				for (b = 0; b < pT.length; b++){
					pT[b] = pT[b].trim();
					if(pT[b]!==""){
						var pTT=pT[b].split('(');
						if(pTT.length === 2){
							var pT0 = pTT[0].trim();
							var pT1 = pTT[1].replace(/(\))/gm, "").trim();
							isHTML += '<option value="'+pT1+'">'+pT0+'</option>';
							//console.log("[" + pT0 + "]["+ pT1 + "]");
						}
					}
				}isHTML += '</select>';				

				//java Script
				var Lim = 3;
				if(Conf_Spl_Len > Lim){
					for (b = Lim; b < Conf_Spl_Len; b++){
						p[Lim-1]+=','+Conf_Spl[b];
					}
				}
				isJAVA += JAVA_Select_Change(isID,p[2]);
				break;			
							

			default:
				break;
		}
		
		

		if( grid_add === 1){	
			grid_cou ++;
			grid_add = 0;
			isHTML += '</div>';
			if(grid_cou > grid_num){
				grid_start = 0;
				isHTML += '</fieldset>';
			}
		}

		
		

	}
	
	$('[data-role="content_1"]').append(isHTML);
	
	
	JAVA_APPEND("page_1","content_1",isJAVA);
//#--------------------------------------------	


});


function Out_0(data){
	console.log(data +" ->> Out_0");
}





$(document).on("pageinit","#page_1",function(){

	$('#is_listview').delegate('a', 'click', function () {

		 console.log("Value = "+this.id);
		 console.log("Value = "+this.value);
    });

	
});	




//#####################################################################
// 222
//
//
//#####################################################################

$(document).on('pagebeforecreate',"#page_2", function(){    
	console.log("pagebeforecreate:1:page_2");
	//#--------------------------------------------
		$("#theme_Day").click(function (e) {
			e.stopImmediatePropagation();
			e.preventDefault();
			console.log("#theme_Day_click");			
			theme_Selector("a");
		});	
	//#--------------------------------------------	
		$("#theme_Night").click(function (e) {
			e.stopImmediatePropagation();
			e.preventDefault();	
			console.log("#theme_Night_click");
			theme_Selector("b");   
		});			
	//#--------------------------------------------
		$("#start_page3").click(function (e){
			e.stopImmediatePropagation();
			e.preventDefault();	
			console.log("#start_page3_click");
			SYS_INIT();
		});
	//#--------------------------------------------	
	console.log("pagebeforecreate:0:page_2");
});



//<a href="tryit.asp-filename=tryjqmob_pages.html#page_4">Go to Page 4</a>

</script>



	
</head>
<body>




<!-- ####################################################################################### -->

<div data-role="page" id="page_1">
	<div data-role="header">
		<h3><span id="MyHeader_Text">შუშაბანდის განათების მართვა</span></h3>  
		<div data-role="navbar">
			<ul>
				<li><a href="#" id="start_page2">საწყისი</a></li>
				<li><a href="#" id="server_Disconnect">.</a></li>
				<li><a href="#" id="theme_Day" >.</a></li>
				<li><a href="#" id="theme_Night" >.</a></li>
			</ul>
		</div>
	</div><!-- /header -->
	

	
	<div data-role="content_1" class="ui-content" role="main"></div>


	
	
</div><!-- /page -->

<!-- ####################################################################################### -->

</body>
</html>
