
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MAXIOT</title>
	<link rel="shortcut icon" href="favicon.ico">
	
	<!--..................-->
	<link rel="stylesheet" href="MyJS/jquery/css/themes/default/jquery.mobile.icons-1.4.5.min.css">
	<link rel="stylesheet" href="MyJS/jquery/css/themes/default/jquery.mobile.icons-1.4.5.min.css">
	<link rel="stylesheet" href="MyJS/jquery/css/theme-classic.css">
	<link rel="stylesheet" href="MyJS/jquery/css/themes/default/jquery.mobile-1.4.5.min.css">
	<script src="MyJS/jquery/js/jquery.js"></script>
	<script src="MyJS/jquery/js/jquery.mobile-1.4.5.min.js"></script>
	<!--..................-->
	<script src="MyJS/justgage/raphael-2.1.4.min.js"></script>
    <script src="MyJS/justgage/justgage.js"></script>
	<style>#g1 {width:100px; height:80px; display: inline-block;margin: 1em;}</style>		
	<!--..................-->
	<script src="js/GUI_ELEMENTS.js"></script>
	<script src="js/GUI_SCRIPT.js"></script>
	<script src="js/GUI_PROCESSOR.js"></script>
	<!--..................-->
	<script src="js/paho-mqtt-min.js"></script>
	<script src="js/mqtt.js"></script>	
	<!--..................-->	

	

	


	
	
	
	
	<!--
<script src="js/dygraph-combined.js"></script>
  -->

	
<script>
$( document ).on( "mobileinit", function() { 
console.log("*** mobileinit:1");
console.log("*** mobileinit:0");
});



function SYS_LOOP_START(){
	SYS_STEP = 0; setTimeout(SYS_LOOP, 1);
}

function SYS_INIT() {
	//$("#Password_Button").button('enable');
	//$("#Password_Input").textinput('enable');
	//$("#video_Button").button('enable');
	//$.mobile.changePage("#page_2");
	//Disconnect();
}


// This function is called when the intial connect request failed.









var SYS_STEP = 0;
function SYS_LOOP() {
    switch (SYS_STEP) {
    case 0:
		console.log("SYS_LOOP:0");
		//Connect_Status = 0;
		
	
		MQTT_Connect();
		
		
		SYS_STEP = 1; setTimeout(SYS_LOOP, 1);
        break;
    case 1:
		console.log("SYS_LOOP:1");
		SYS_STEP = 1; setTimeout(SYS_LOOP, 500);		
        break;									
    case 2:
		console.log("SYS_LOOP:2");
		client.subscribe("99/0");
		SYS_STEP = 3; setTimeout(SYS_LOOP, 1);
		break;		
    case 3:
		console.log("SYS_LOOP:3");
		SYS_STEP = 3; setTimeout(SYS_LOOP, 500);	
		break;
    case 4:
		console.log("SYS_LOOP:4");
		console.log(Script_Data);
		GUI_Processor(Script_Data);
		SYS_STEP = 5; setTimeout(SYS_LOOP, 500);		
		break;
    case 5:
		console.log("SYS_LOOP:5");
		SYS_STEP = 5; setTimeout(SYS_LOOP, 500);	
		break;
    default:
        break;
    }
}














$( document ).on( "pagecreate", function() {
console.log("*** pagecreate:1");



/**
	//#--------------------------------------------
		//if (java && java.net)
		//ip = ''+java.net.InetAddress.getLocalHost().getHostAddress();
		//else ip = 'unknown';
	//#--------------------------------------------

	**/


	$( "#theme-selector input" ).on( "change", function( event ) {
		var themeClass = $( "#theme-selector input:checked" ).attr( "id" );
		console.log(themeClass);
		Theme_Change(themeClass);
	});





	$( "#opt-navbars input" ).on( "change", function( event ) {
		if ( $( "#show" ).prop( "checked" ) ) {
			$( "#testpage .ui-navbar" ).show();
			$( "#testpage .ui-footer h4" ).hide();
		} else if ( $( "#hide" ).prop( "checked" ) ) {
			$( "#testpage .ui-navbar" ).hide();
			$( "#testpage .ui-footer h4" ).show();
		}
	});
	$( "#opt-shadow input" ).on( "change", function( event ) {
		if ( $( "#on" ).prop( "checked" ) ) {
			$( "#testpage" ).removeClass( "noshadow" );
		} else if ( $( "#off" ).prop( "checked" ) ) {
			$( "#testpage" ).addClass( "noshadow" );
		}
	});
	$( "#opt-iconshadow input" ).on( "change", function( event ) {
		if ( $( "#off1" ).prop( "checked" ) ) {
			$( "#testpage" ).removeClass( "ui-shadow-icon" );
		} else if ( $( "#on1" ).prop( "checked" ) ) {
			$( "#testpage" ).addClass( "ui-shadow-icon" );
		}
	});
	$( "#opt-gradient input" ).on( "change", function( event ) {
		if ( $( "#off2" ).prop( "checked" ) ) {
			$( "#testpage" ).addClass( "nogradient" );
		} else if ( $( "#on2" ).prop( "checked" ) ) {
			$( "#testpage" ).removeClass( "nogradient" );
		}
	});
	$( "#opt-highlight input" ).on( "change", function( event ) {
		if ( $( "#off3" ).prop( "checked" ) ) {
			$( "#testpage" ).addClass( "nohighlight" );
		} else if ( $( "#on3" ).prop( "checked" ) ) {
			$( "#testpage" ).removeClass( "nohighlight" );
		}
	});
	console.log("*** pagecreate:0");
});
function Out_0(data){
	console.log(data +" ->> Out_0");
	  message = new Paho.MQTT.Message(data);
  message.destinationName = "0/0";
  client.send(message);
}

//#####################################################################
// 111
//#####################################################################

$(document).on('pagebeforecreate',"#page_1", function(){

	console.log("*** pagebeforecreate:1:page_1");
	
	GUI_Processor(def_SCRIPT);
	GUI_Processor(ggg);
	

/**
rrr = '';

	rrr += '</div>';

	$('[data-role="content_1"]').append(rrr);
**/

	console.log("*** pagebeforecreate:0:page_1");
});	



$(document).on('pagebeforecreate',"#page_2", function(){    
	console.log("*** pagebeforecreate:1:page_2");
	console.log("*** pagebeforecreate:0:page_2");
});
$(document).on('pagebeforecreate',"#page_3", function(){    
	console.log("*** pagebeforecreate:1:page_3");
	console.log("*** pagebeforecreate:0:page_3");
});
$(document).on('pagebeforecreate',"#page_4", function(){    
	console.log("*** pagebeforecreate:1:page_4");
	console.log("*** pagebeforecreate:0:page_4");
});
$(document).on('pagebeforecreate',"#page_5", function(){    
	console.log("*** pagebeforecreate:1:page_5");
	console.log("*** pagebeforecreate:0:page_5");
});




$(document).on("pageinit","#page_1",function(){
	console.log("*** pageinit:1:page_1");
	console.log("*** pageinit:0:page_1");
});	
$(document).on("pageinit","#page_2",function(){
	console.log("*** pageinit:1:page_2");
	console.log("*** pageinit:0:page_2");
});	
$(document).on("pageinit","#page_3",function(){
	console.log("*** pageinit:1:page_3");
	console.log("*** pageinit:0:page_3");
});	
$(document).on("pageinit","#page_4",function(){
	console.log("*** pageinit:1:page_4");
	console.log("*** pageinit:0:page_4");
});	
$(document).on("pageinit","#page_5",function(){
	console.log("*** pageinit:1:page_5");
	console.log("*** pageinit:0:page_5");
});	






//<a href="tryit.asp-filename=tryjqmob_pages.html#page_4">Go to Page 4</a>

</script>



	
</head>
<body>



<!-- ####################################################################################### -->

<div data-role="page" id="page_1">
	<div data-role="header">
		<!--<a href="#page_1" class="ui-btn-left ui-btn ui-btn-inline ui-mini ui-corner-all ui-btn-icon-left ui-icon-carat-l">Main</a> -->
		<h1><span id="MyHeader_Text"></span></h1> 
		<a href="#page_5" class="ui-btn-right ui-btn ui-btn-inline ui-mini ui-corner-all ui-btn-icon-right ui-icon-gear">Options</a>
		<div data-role="navbar">
			<div data-role="navbar_1" ></div>
		</div>
	</div><!-- /header -->
	<div data-role="content_1" class="ui-content" role="main"></div>	
	<div data-role="panel_1" ></div>
	<div data-role="footer" data-position="fixed" data-theme="a">
		<h1> </h1>
	</div><!-- /footer -->
</div><!-- /page -->

<!-- ####################################################################################### -->

<div data-role="page" id="page_2">
	<div data-role="header">
		<a href="#page_1" class="ui-btn-left ui-btn ui-btn-inline ui-mini ui-corner-all ui-btn-icon-left ui-icon-carat-l">Main</a>
		<h1><span id="MyHeader_Text"></span></h1> 
		<a href="#page_5" class="ui-btn-right ui-btn ui-btn-inline ui-mini ui-corner-all ui-btn-icon-right ui-icon-gear">Options</a>
		<div data-role="navbar">
			<div data-role="navbar_2" ></div>
		</div>
	</div><!-- /header -->
	<div data-role="content_2" class="ui-content" role="main"></div>	
	<div data-role="panel_2" ></div>
	<div data-role="footer" data-position="fixed" data-theme="a">
		<h1> </h1>
	</div><!-- /footer -->
</div><!-- /page -->

<!-- ####################################################################################### -->

<div data-role="page" id="page_3">
	<div data-role="header">
		<a href="#page_1" class="ui-btn-left ui-btn ui-btn-inline ui-mini ui-corner-all ui-btn-icon-left ui-icon-carat-l">Main</a>
		<h1><span id="MyHeader_Text"></span></h1> 
		<a href="#page_5" class="ui-btn-right ui-btn ui-btn-inline ui-mini ui-corner-all ui-btn-icon-right ui-icon-gear">Options</a>
		<div data-role="navbar">
			<div data-role="navbar_3" ></div>
		</div>
	</div><!-- /header -->
	<div data-role="content_3" class="ui-content" role="main"></div>	
	<div data-role="panel_3" ></div>
	<div data-role="footer" data-position="fixed" data-theme="a">
		<h1> </h1>
	</div><!-- /footer -->
</div><!-- /page -->

<!-- ####################################################################################### -->

<div data-role="page" id="page_4">
	<div data-role="header">
		<a href="#page_1" class="ui-btn-left ui-btn ui-btn-inline ui-mini ui-corner-all ui-btn-icon-left ui-icon-carat-l">main</a>
		<h1><span id="MyHeader_Text"></span></h1> 
		<a href="#page_5" class="ui-btn-right ui-btn ui-btn-inline ui-mini ui-corner-all ui-btn-icon-right ui-icon-gear">Options</a> 
		<div data-role="navbar">
			<div data-role="navbar_4" ></div>
		</div>
	</div><!-- /header -->
	<div data-role="content_4" class="ui-content" role="main"></div>	
	<div data-role="panel_4" ></div>
	<div data-role="footer" data-position="fixed" data-theme="a">
		<h1> </h1>
	</div><!-- /footer -->
</div><!-- /page -->

<!-- ####################################################################################### -->
<div data-role="page" id="page_5">
	<div data-role="header">
		<a href="#page_1" class="ui-btn-left ui-btn ui-btn-inline ui-mini ui-corner-all ui-btn-icon-left ui-icon-carat-l">main</a>
		<h1><span id="MyHeader_Text">Options</span></h1> 
		<!--<a href="#page_5" class="ui-btn-right ui-btn ui-btn-inline ui-mini ui-corner-all ui-btn-icon-right ui-icon-gear">Options</a>-->
		<div data-role="navbar">
			<div data-role="navbar_5" ></div>
		</div>
	</div><!-- /header -->
	<div data-role="content_5" class="ui-content" role="main"></div>	
	<div data-role="panel_5" ></div>
	<div data-role="footer" data-position="fixed" data-theme="a">
		<h1> </h1>
	</div><!-- /footer -->
</div><!-- /page -->

<!-- ####################################################################################### -->


</body>
</html>
